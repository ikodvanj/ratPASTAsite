<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ratPASTA - R-based Awesome Toolbox for Platform for Acoustic STArtle • ratPASTA</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="ratPASTA - R-based Awesome Toolbox for Platform for Acoustic STArtle">
<meta property="og:description" content="ratPASTA">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ratPASTA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ratPASTA.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ikodvanj/ratPASTA/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>ratPASTA - R-based Awesome Toolbox for Platform for Acoustic STArtle</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ikodvanj/ratPASTA/blob/master/vignettes/ratPASTA.Rmd"><code>vignettes/ratPASTA.Rmd</code></a></small>
      <div class="hidden name"><code>ratPASTA.Rmd</code></div>

    </div>

    
    
<div id="loading-the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#loading-the-data" class="anchor"></a>Loading the data</h2>
<p>Load the package with the following code:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ratPASTA</span>)</pre></body></html></div>
<p>The <code><a href="../reference/loadStartleData.html">loadStartleData()</a></code> function will load all .pasta files from the working directory, merge them and identify impulses with built-in metadata. Navigate to a folder with all pasta files and run the following command:</p>
<pre><code>df &lt;- loadStartleData(addhead = 0.5, addtail = 0.5)</code></pre>
<p>The specified addtail and addhead arguments take into account the the latency of the animal (<strong>Figure 1</strong> explains this concept). Additionally, this function will also correct the values for the weight of the animals, based on the <code>mass.json</code> file in the working directory.</p>
<p>Alternatively, data can be loaded by specifying the names of all pasta files. To do so, set <code>auto_import</code> argument to <code>FALSE</code> and specify <code>data</code> as a list containing all pasta data. To do so, manualy import all .pasta files as csv files, place them in a list. Unless <code>correction = FALSE</code>, mass should be provided as well.</p>
<pre><code>df &lt;- loadStartleData(auto_import = FALSE, data = list, mass = mass)</code></pre>
<div class="figure">
<img src="Startle.png" alt="Figure 1. An illustration of the startle experiment. One cycle is the period from the start of the one startling sound - addhead time, till the next startling sound - addhead. Latency of the animal is measured from the startling sound till the maximum value. Values that fall within the period from (impulse start time - addhead) to (impulse end time + addtail) are binned in the I (impulse) category. Other values are a part of No I category (No impulse = between two impulses)" id="id" class="class" style="width:100.0%;height:100.0%"><p class="caption"><strong>Figure 1. An illustration of the startle experiment.</strong> One cycle is the period from the start of the one startling sound - addhead time, till the next startling sound - addhead. Latency of the animal is measured from the startling sound till the maximum value. Values that fall within the period from (impulse start time - addhead) to (impulse end time + addtail) are binned in the I (impulse) category. Other values are a part of No I category (No impulse = between two impulses)</p>
</div>
</div>
<div id="summary" class="section level2">
<h2 class="hasAnchor">
<a href="#summary" class="anchor"></a>Summary</h2>
<p>The function <code><a href="../reference/summariseStartle.html">summariseStartle()</a></code> is used to return a mathematical summary of the startle data.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="../reference/summariseStartle.html">summariseStartle</a></span>(<span class="no">df</span>)
<span class="co">#&gt; $Values</span>
<span class="co">#&gt; # A tibble: 8 x 9</span>
<span class="co">#&gt; # Groups:   stage, impulse [4]</span>
<span class="co">#&gt;   stage impulse lgroup `mean(value)` `sd(value)` `min(value)` `median(value)`</span>
<span class="co">#&gt;   &lt;fct&gt; &lt;fct&gt;   &lt;chr&gt;          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;           &lt;dbl&gt;</span>
<span class="co">#&gt; 1 W/O … No I    ctr             5.00        8.76    0.000256             2.45</span>
<span class="co">#&gt; 2 W/O … No I    stz             7.34       19.3     0.0000971            3.02</span>
<span class="co">#&gt; 3 W/O … I       ctr            34.0        80.5     0.000642             4.85</span>
<span class="co">#&gt; 4 W/O … I       stz            47.9       111.      0.00179              6.72</span>
<span class="co">#&gt; 5 W PI  No I    ctr             4.02        5.01    0.000256             2.56</span>
<span class="co">#&gt; 6 W PI  No I    stz             3.58        4.56    0.0000971            2.27</span>
<span class="co">#&gt; 7 W PI  I       ctr             7.94       13.0     0.000642             3.58</span>
<span class="co">#&gt; 8 W PI  I       stz             9.89       24.0     0.0000971            3.64</span>
<span class="co">#&gt; # … with 2 more variables: `IQR(value)` &lt;dbl&gt;, `max(value)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $Ratio</span>
<span class="co">#&gt; # A tibble: 4 x 8</span>
<span class="co">#&gt; # Groups:   stage [2]</span>
<span class="co">#&gt;   stage lgroup `mean(ratio)` `sd(ratio)` `min(ratio)` `median(ratio)`</span>
<span class="co">#&gt;   &lt;fct&gt; &lt;chr&gt;          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;           &lt;dbl&gt;</span>
<span class="co">#&gt; 1 W/O … ctr             2.12       1.32         0.500            1.66</span>
<span class="co">#&gt; 2 W/O … stz             4.11       7.42         0.180            1.65</span>
<span class="co">#&gt; 3 W PI  ctr             1.55       0.714        0.376            1.42</span>
<span class="co">#&gt; 4 W PI  stz             1.89       0.837        0.442            1.84</span>
<span class="co">#&gt; # … with 2 more variables: `IQR(ratio)` &lt;dbl&gt;, `max(ratio)` &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $RatioS</span>
<span class="co">#&gt; # A tibble: 6 x 8</span>
<span class="co">#&gt;   .y.   group1     group2            p  p.adj p.format p.signif method  </span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;         &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;   </span>
<span class="co">#&gt; 1 ratio ctr W/O PP stz W/O PP 0.466    1      0.46579  ns       Wilcoxon</span>
<span class="co">#&gt; 2 ratio ctr W/O PP ctr W PP   0.000770 0.0046 0.00077  ***      Wilcoxon</span>
<span class="co">#&gt; 3 ratio ctr W/O PP stz W PP   0.810    1      0.80981  ns       Wilcoxon</span>
<span class="co">#&gt; 4 ratio stz W/O PP ctr W PP   0.0511   0.2    0.05105  ns       Wilcoxon</span>
<span class="co">#&gt; 5 ratio stz W/O PP stz W PP   0.677    1      0.67697  ns       Wilcoxon</span>
<span class="co">#&gt; 6 ratio ctr W PP   stz W PP   0.00103  0.0051 0.00103  **       Wilcoxon</span></pre></body></html></div>
</div>
<div id="plotting-graphs" class="section level2">
<h2 class="hasAnchor">
<a href="#plotting-graphs" class="anchor"></a>Plotting graphs</h2>
<p>The following functions, <code><a href="../reference/startlePlot.html">startlePlot()</a></code> and <code><a href="../reference/basicStartlePlot.html">basicStartlePlot()</a></code>, are used for visualisation of results.</p>
<div id="basic-plot" class="section level4">
<h4 class="hasAnchor">
<a href="#basic-plot" class="anchor"></a>Basic plot</h4>
<p>Function <code><a href="../reference/basicStartlePlot.html">basicStartlePlot()</a></code> returns time-series plot:</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="../reference/basicStartlePlot.html">basicStartlePlot</a></span>(<span class="no">df</span>, <span class="kw">n_col</span> <span class="kw">=</span> <span class="fl">3</span>)</pre></body></html></div>
<p><img src="ratPASTA_files/figure-html/plot1-1.png" width="700"></p>
<p><code>filter_groups</code> argument can be used to display the data only for one or several animals.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu"><a href="../reference/basicStartlePlot.html">basicStartlePlot</a></span>(<span class="no">df</span>, <span class="kw">filter_groups</span> <span class="kw">=</span> <span class="st">"ctr 5"</span>)</pre></body></html></div>
<p><img src="ratPASTA_files/figure-html/plot1.2-1.png" width="700"></p>
</div>
<div id="startle-plot" class="section level4">
<h4 class="hasAnchor">
<a href="#startle-plot" class="anchor"></a>Startle plot</h4>
<p>The following plot shows mean absolute values for each cycle (during impuls (I), and in between impulse (NO I)). Color indicates whether the preimpulse was used or not. Animal groups are ctr and stz (control and streptozotocin treated rats).</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="fu"><a href="../reference/startlePlot.html">startlePlot</a></span>(<span class="no">df</span>, <span class="kw">type</span> <span class="kw">=</span> <span class="fl">1</span>)</pre></body></html></div>
<p><img src="ratPASTA_files/figure-html/plot2-1.png" width="700"></p>
<p>This graph uses the same input values as the last one. The only difference is the method of visualisation. In the last one points were used to indicate mean values, in this one boxplots are used.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="fu"><a href="../reference/startlePlot.html">startlePlot</a></span>(<span class="no">df</span>, <span class="kw">type</span> <span class="kw">=</span> <span class="fl">2</span>)</pre></body></html></div>
<p><img src="ratPASTA_files/figure-html/plot3-1.png" width="700"></p>
<p>This following graph is the same as the last one, but in this case, only the data pertaining to the pulses is displayed.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu"><a href="../reference/startlePlot.html">startlePlot</a></span>(<span class="no">df</span>, <span class="kw">type</span> <span class="kw">=</span> <span class="fl">3</span>)</pre></body></html></div>
<p><img src="ratPASTA_files/figure-html/plot4-1.png" width="700"></p>
<p>The following plot shows the distribution of the activity of the animals.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="fu"><a href="../reference/startlePlot.html">startlePlot</a></span>(<span class="no">df</span>, <span class="kw">type</span> <span class="kw">=</span> <span class="fl">4</span>)
<span class="co">#&gt; Warning: `fun.y` is deprecated. Use `fun` instead.</span>
<span class="co">#&gt; Warning: Ignoring unknown parameters: fun.ymin, fun.ymax, fun.y</span>
<span class="co">#&gt; No summary function supplied, defaulting to `mean_se()`</span>
<span class="co">#&gt; No summary function supplied, defaulting to `mean_se()`</span></pre></body></html></div>
<p><img src="ratPASTA_files/figure-html/plot5-1.png" width="700"></p>
<p>To make this “violin” shaped plots even more informative, we added a dot representing median value and quantile lines.</p>
</div>
<div id="latency-plot" class="section level4">
<h4 class="hasAnchor">
<a href="#latency-plot" class="anchor"></a>Latency plot</h4>
<p>A <code><a href="../reference/latencyPlot.html">latencyPlot()</a></code> function returns a list with two plots, one displaying the latency vs animal groups, and the other latency vs cycle. The only obligatory argument is a data frame created with <code><a href="../reference/loadStartleData.html">loadStartleData()</a></code> function. If argument <code>addhead</code> is used in the <code><a href="../reference/loadStartleData.html">loadStartleData()</a></code> function, then it should be defined in <code><a href="../reference/latencyPlot.html">latencyPlot()</a></code> function as well with the same value.</p>
<p>This function is a work in progress. It has been added to the package, and it should work properly. However, the test data used as an example for this vignette is preliminary data used and the starting time of each cycle is off. This displacement is variable and is a result of the interaction between software and hardware through the sound server PulseAudio and the Linux audio subsystem, ALSA. We are working on a fix for this. However, for the demonstrative purposes, we will run the <code><a href="../reference/latencyPlot.html">latencyPlot()</a></code> function on this faulty data.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">l</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/latencyPlot.html">latencyPlot</a></span>(<span class="no">df</span>)</pre></body></html></div>
<p>List <code>l</code> now contains two plots. To view them, use the following code:</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="no">l</span>$<span class="no">LatencyVsCycle</span>)
<span class="co">#&gt; Warning: Removed 59 rows containing missing values (geom_point).</span></pre></body></html></div>
<p><img src="ratPASTA_files/figure-html/printList-1.png" width="700"></p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="no">l</span>$<span class="no">LatencyVsGroup</span>)
<span class="co">#&gt; Warning: Removed 59 rows containing missing values (geom_point).</span></pre></body></html></div>
<p><img src="ratPASTA_files/figure-html/printList-2.png" width="700"></p>
<p>By default, we don’t expect latency to be greater than 1000ms, thus graphs show only values between 1 and 1000 ms. However if you want to change this you can do so with the following code: <code><a href="https://rdrr.io/r/base/print.html">print(l$LatencyVsCycle + ggplot2::scale_y_continuous(limits = c(0, 500000)))</a></code>, or even better: <code><a href="https://rdrr.io/r/base/print.html">print(l$LatencyVsCycle + ggplot2::coord_cartesian(ylim = c(0, 500000)))</a></code> .</p>
<p>In general, all graphs can be modified since all are ggplot objects.</p>
</div>
</div>
<div id="development" class="section level2">
<h2 class="hasAnchor">
<a href="#development" class="anchor"></a>Development</h2>
<p>This package and complete PASTA solution we served you is something new and will be updated in the future. You could say that something is always cooking… We hope you will enjoy our pasta. However, if something is eating you about this package, please inform us so we can improve our recipe.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Ivan Kodvanj, Davor Virag, Jan Homolak.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
